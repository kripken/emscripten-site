
    
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interacting with code &mdash; Emscripten 1.39.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/emscripten.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Emscripten 1.39.4 documentation" href="../../../index.html"/>
        <link rel="up" title="Connecting C++ and JavaScript" href="index.html"/>
        <link rel="next" title="Embind" href="embind.html"/>
        <link rel="prev" title="Connecting C++ and JavaScript" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">


<div class="grid-to-center-rtd-theme"> 
 
  <div class="wy-grid-for-nav">
  


    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <!-- <a href="../../../index.html" class="fa fa-home"> Emscripten</a> -->
		<a href="../../../index.html"> <img src="../../..//_static/Emscripten_logo_full.png" alt="Logo" /> </a>
		
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">

		 
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introducing_emscripten/index.html">Introducing Emscripten</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/about_emscripten.html">About Emscripten</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/about_emscripten.html#emscripten-toolchain">Emscripten Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/about_emscripten.html#porting-code-to-use-emscripten">Porting code to use Emscripten</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/community.html">Community</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#get-in-touch">Get in touch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#report-a-bug">Report a bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#blogs">Blogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/community.html#contribute">Contribute</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/emscripten_license.html">Open Source License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/release_notes.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/release_notes.html#changelog">ChangeLog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html">Talks and Publications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#presentations">Presentations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#papers">Papers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introducing_emscripten/Talks-and-Publications.html#books">Books</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/downloads.html">Download and install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#installation-instructions">Installation instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#emsdk-install-targets">Emsdk install targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../getting_started/downloads.html#platform-specific-notes">Platform-specific notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#verifying-the-installation">Verifying the installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#updating-the-sdk">Updating the SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/downloads.html#uninstalling-the-emscripten-sdk">Uninstalling the Emscripten SDK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/Tutorial.html">Emscripten Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#first-things-first">First things first</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#verifying-emscripten">Verifying Emscripten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#running-emscripten">Running Emscripten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#generating-html">Generating HTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#using-files">Using files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#optimizing-code">Optimizing code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#emscripten-test-suite-and-benchmarks">Emscripten Test Suite and Benchmarks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/Tutorial.html#general-tips-and-next-steps">General tips and next steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/test-suite.html">Emscripten Test Suite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#setting-up">Setting up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#running-tests">Running tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#skipping-tests">Skipping Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#running-a-bunch-of-random-tests">Running a bunch of random tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#important-tests">Important Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#benchmarking">Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/test-suite.html#debugging-test-failures">Debugging test failures</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/bug_reports.html">Bug Reporting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/bug_reports.html#llvm-wasm-ld-clang-binaryen-bugs">LLVM, wasm-ld, clang, Binaryen bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/bug_reports.html#site-and-documentation-bugs">Site and documentation bugs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/FAQ.html">FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-do-i-compile-code">How do I compile code?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-multiple-errors-building-basic-code-and-the-tests">Why do I get multiple errors building basic code and the tests?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#i-tried-something-why-doesnt-it-work">I tried something: why doesn’t it work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#do-i-need-to-change-my-build-system-to-use-emscripten">Do I need to change my build system to use Emscripten?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-is-code-compilation-slow">Why is code compilation slow?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-my-code-run-slowly">Why does my code run slowly?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-is-my-compiled-code-big">Why is my compiled code big?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-compiling-code-that-works-on-another-machine-gives-me-errors">Why does compiling code that works on another machine gives me errors?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-can-i-reduce-startup-time">How can I reduce startup time?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-my-program-stall-in-downloading-or-preparing">Why does my program stall in &#8220;Downloading...&#8221; or &#8220;Preparing...&#8221;?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#what-is-no-webassembly-support-found-build-with-s-wasm-0-to-target-javascript-instead-or-no-native-wasm-support-detected">What is &#8220;No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead&#8221; or &#8220;no native wasm support detected&#8221;?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-error-while-loading-shared-libraries-libtinfo-so-5">Why do I get <code class="docutils literal"><span class="pre">error</span> <span class="pre">while</span> <span class="pre">loading</span> <span class="pre">shared</span> <span class="pre">libraries:</span> <span class="pre">libtinfo.so.5</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-my-code-fail-to-compile-with-an-error-message-about-inline-assembly-or-text-asm">Why does my code fail to compile with an error message about inline assembly (or <code class="docutils literal"><span class="pre">{&quot;text&quot;:&quot;asm&quot;}</span></code>)?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-my-html-app-hang">Why does my HTML app hang?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-do-i-run-an-event-loop">How do I run an event loop?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-doesn-t-my-sdl-app-work">Why doesn&#8217;t my SDL app work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-do-i-link-against-system-libraries-like-sdl-boost-etc">How do I link against system libraries like SDL, boost, etc.?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#what-are-my-options-for-audio-playback">What are my options for audio playback?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-can-my-compiled-program-access-files">How can my compiled program access files?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-can-t-my-code-access-a-file-in-the-same-directory">Why can&#8217;t my code access a file in the same directory?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-can-i-tell-when-the-page-is-fully-loaded-and-it-is-safe-to-call-compiled-functions">How can I tell when the page is fully loaded and it is safe to call compiled functions?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#what-does-exiting-the-runtime-mean-why-don-t-atexit-s-run">What does &#8220;exiting the runtime&#8221; mean? Why don&#8217;t <code class="docutils literal"><span class="pre">atexit()s</span></code> run?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-functions-in-my-c-c-source-code-vanish-when-i-compile-to-javascript-and-or-i-get-no-functions-to-process">Why do functions in my C/C++ source code vanish when I compile to JavaScript, and/or I get <code class="docutils literal"><span class="pre">No</span> <span class="pre">functions</span> <span class="pre">to</span> <span class="pre">process</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-is-the-file-system-api-is-not-available-when-i-build-with-closure">Why is the File System API is not available when I build with closure?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-my-code-break-and-gives-odd-errors-when-using-o2-closure-1">Why does my code break and gives odd errors when using <code class="docutils literal"><span class="pre">-O2</span> <span class="pre">--closure</span> <span class="pre">1</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-typeerror-module-something-is-not-a-function">Why do I get <code class="docutils literal"><span class="pre">TypeError:</span> <span class="pre">Module.someThing</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">a</span> <span class="pre">function</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-runtime-no-longer-exist-why-do-i-get-an-error-trying-to-access-runtime-something">Why does <code class="docutils literal"><span class="pre">Runtime</span></code> no longer exist? Why do I get an error trying to access <code class="docutils literal"><span class="pre">Runtime.someThing</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-a-nameerror-or-a-problem-occurred-in-evaluating-content-after-a-s-when-i-use-a-s-option">Why do I get a <code class="docutils literal"><span class="pre">NameError</span></code> or <code class="docutils literal"><span class="pre">a</span> <span class="pre">problem</span> <span class="pre">occurred</span> <span class="pre">in</span> <span class="pre">evaluating</span> <span class="pre">content</span> <span class="pre">after</span> <span class="pre">a</span> <span class="pre">&quot;-s&quot;</span></code> when I use a <code class="docutils literal"><span class="pre">-s</span></code> option?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-an-odd-python-error-complaining-about-libcxx-bc-or-libcxxabi-bc">Why do I get an odd python error complaining about libcxx.bc or libcxxabi.bc?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-an-error-mentioning-uglify-and-throw-new-js-parse-error">Why do I get an error mentioning Uglify and <code class="docutils literal"><span class="pre">throw</span> <span class="pre">new</span> <span class="pre">JS_Parse_Error</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-running-llvm-bitcode-generated-by-emcc-through-lli-break-with-errors-about-impure-ptr">Why does running LLVM bitcode generated by emcc through <strong>lli</strong> break with errors about <code class="docutils literal"><span class="pre">impure_ptr</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-a-stack-size-error-when-optimizing-rangeerror-maximum-call-stack-size-exceeded-or-similar">Why do I get a stack size error when optimizing: <code class="docutils literal"><span class="pre">RangeError:</span> <span class="pre">Maximum</span> <span class="pre">call</span> <span class="pre">stack</span> <span class="pre">size</span> <span class="pre">exceeded</span></code> or similar?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-error-cannot-compile-this-aggregate-va-arg-expression-yet-and-it-says-compiler-frontend-failed-to-generate-llvm-bitcode-halting-afterwards">Why do I get <code class="docutils literal"><span class="pre">error:</span> <span class="pre">cannot</span> <span class="pre">compile</span> <span class="pre">this</span> <span class="pre">aggregate</span> <span class="pre">va_arg</span> <span class="pre">expression</span> <span class="pre">yet</span></code> and it says <code class="docutils literal"><span class="pre">compiler</span> <span class="pre">frontend</span> <span class="pre">failed</span> <span class="pre">to</span> <span class="pre">generate</span> <span class="pre">LLVM</span> <span class="pre">bitcode,</span> <span class="pre">halting</span></code> afterwards?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-does-building-from-source-fail-during-linking-at-100">Why does building from source fail during linking (at 100%)?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-do-i-get-odd-rounding-errors-when-using-float-variables">Why do I get odd rounding errors when using float variables?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#how-do-i-pass-int64-t-and-uint64-t-values-from-js-into-wasm-functions">How do I pass int64_t and uint64_t values from js into wasm functions?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#can-i-use-multiple-emscripten-compiled-programs-on-one-web-page">Can I use multiple Emscripten-compiled programs on one Web page?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#can-i-build-javascript-that-only-runs-on-the-web">Can I build JavaScript that only runs on the Web?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/FAQ.html#why-the-weird-name-for-the-project">Why the weird name for the project?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../compiling/index.html">Compiling and Running Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Building-Projects.html">Building Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#integrating-with-a-build-system">Integrating with a build system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#emscripten-build-output-files">Emscripten build output files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#building-projects-with-optimizations">Building projects with optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#building-projects-with-debug-information">Building projects with debug information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#using-libraries">Using libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#emscripten-ports">Emscripten Ports</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#adding-more-ports">Adding more ports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#build-system-issues">Build system issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#build-system-self-execution">Build system self-execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#dynamic-linking">Dynamic linking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#configure-may-run-checks-that-appear-to-fail">Configure may run checks that appear to fail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#archive-a-files">Archive (.a) files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#manually-using-emcc">Manually using emcc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#detecting-emscripten-in-preprocessor">Detecting Emscripten in Preprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#examples-test-code">Examples / test code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/WebAssembly.html">Building to WebAssembly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#setup">Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/WebAssembly.html#backends">Backends</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#binaryen-codegen-options">Binaryen codegen options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/WebAssembly.html#trapping">Trapping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#compiler-output">Compiler output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#testing-native-webassembly-in-browsers">Testing native WebAssembly in browsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#debugging">Debugging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/WebAssembly.html#debugging-webassembly">Debugging WebAssembly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#wasm-files-and-compilation"><code class="docutils literal"><span class="pre">.wasm</span></code> files and compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/WebAssembly.html#web-server-setup">Web server setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html">Running HTML files with emrun</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#quick-how-to">Quick how-to</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#choosing-the-browser-to-run">Choosing the browser to run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#security-implications">Security implications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#controlling-web-server-operation">Controlling web server operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#controlling-log-output">Controlling log output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#cleaning-up-after-the-run">Cleaning up after the run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#running-web-pages-in-firefox">Running web pages in Firefox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Running-html-files-with-emrun.html#running-web-pages-on-an-android-device">Running web pages on an Android device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Travis.html">Building projects on Travis CI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Travis.html#a-sample-travis-yml">A sample .travis.yml</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Deploying-Pages.html">Deploying Emscripten Compiled Pages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#build-files-and-custom-shell">Build Files and Custom Shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#optimizing-download-sizes">Optimizing Download Sizes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#optimizing-page-startup-times">Optimizing Page Startup Times</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#providing-a-quick-second-time-load">Providing a Quick Second Time Load</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#reserving-memory-for-compiled-code">Reserving Memory for Compiled Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#robust-error-handling">Robust Error Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Deploying-Pages.html#prepare-for-the-web-environment">Prepare for The Web Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/GitLab.html">Building and Deploying on GitLab</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/GitLab.html#a-sample-gitlab-ci-yml">A sample .gitlab-ci.yml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Porting</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../guidelines/index.html">Code Portability and Limitations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/portability_guidelines.html">Portability Guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/portability_guidelines.html#current-web-limitations">Current Web limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/portability_guidelines.html#code-that-cannot-be-compiled">Code that cannot be compiled</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/portability_guidelines.html#code-that-compiles-but-might-run-slowly">Code that compiles but might run slowly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/portability_guidelines.html#other-issues">Other issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/api_limitations.html">API Limitations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/api_limitations.html#networking">Networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/api_limitations.html#file-systems">File Systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/api_limitations.html#application-main-loop">Application Main Loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/api_limitations.html#other-apis">Other APIs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/function_pointer_issues.html">Function Pointer Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/function_pointer_issues.html#debugging-function-pointer-issues">Debugging function pointer issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guidelines/function_pointer_issues.html#working-around-function-pointer-issues">Working around function pointer issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/browser_limitations.html">Specific Browser Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../emscripten-runtime-environment.html">Emscripten Runtime Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../emscripten-runtime-environment.html#input-output">Input/output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emscripten-runtime-environment.html#file-systems">File Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emscripten-runtime-environment.html#browser-main-loop">Browser main loop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../emscripten-runtime-environment.html#implementing-an-asynchronous-main-loop-in-c-c">Implementing an asynchronous main loop in C/C++</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../emscripten-runtime-environment.html#execution-lifecycle">Execution lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emscripten-runtime-environment.html#emscripten-memory-representation">Emscripten memory representation</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Connecting C++ and JavaScript</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Interacting with code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#calling-compiled-c-functions-from-javascript-using-ccall-cwrap">Calling compiled C functions from JavaScript using ccall/cwrap</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interacting-with-an-api-written-in-c-c-from-nodejs">Interacting with an API written in C/C++ from NodeJS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#call-compiled-c-c-code-directly-from-javascript">Call compiled C/C++ code &#8220;directly&#8221; from JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calling-javascript-from-c-c">Calling JavaScript from C/C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implement-a-c-api-in-javascript">Implement a C API in JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calling-javascript-functions-as-function-pointers-from-c">Calling JavaScript functions as function pointers from C</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-memory-from-javascript">Access memory from JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="#affect-execution-behaviour">Affect execution behaviour</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binding-c-and-javascript-webidl-binder-and-embind">Binding C++ and JavaScript — WebIDL Binder and Embind</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="embind.html">Embind</a><ul>
<li class="toctree-l4"><a class="reference internal" href="embind.html#a-quick-example">A quick example</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#memory-management">Memory management</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#value-types">Value types</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#advanced-class-concepts">Advanced class concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#overloaded-functions">Overloaded functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#enums">Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#constants">Constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#memory-views">Memory views</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#using-val-to-transliterate-javascript-to-c">Using <code class="docutils literal"><span class="pre">val</span></code> to transliterate JavaScript to C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#built-in-type-conversions">Built-in type conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="embind.html#performance">Performance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="WebIDL-Binder.html">WebIDL Binder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#a-quick-example">A quick example</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#modular-output">Modular output</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#using-c-classes-in-javascript">Using C++ classes in JavaScript</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#pointers-references-value-types-ref-and-value">Pointers, References, Value types (Ref and Value)</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#const">Const</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#un-deletable-classes-nodelete">Un-deletable classes (NoDelete)</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#defining-inner-classes-and-classes-inside-namespaces-prefix">Defining inner classes and classes inside namespaces (Prefix)</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#operators">Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#enums">enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#sub-classing-c-base-classes-in-javascript-jsimplementation">Sub-classing C++ base classes in JavaScript (JSImplementation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#pointers-and-comparisons">Pointers and comparisons</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#null">NULL</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#void">void*</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#webidl-types">WebIDL types</a></li>
<li class="toctree-l4"><a class="reference internal" href="WebIDL-Binder.html#test-and-example-code">Test and example code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../files/index.html">Files and File Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../files/file_systems_overview.html">File System Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../files/file_systems_overview.html#emscripten-file-system-runtime-environment">Emscripten file system runtime environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/file_systems_overview.html#emscripten-file-system-architecture">Emscripten file system architecture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../files/packaging_files.html">Packaging Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#packaging-using-emcc">Packaging using emcc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#packaging-using-the-file-packager-tool">Packaging using the file packager tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#changing-the-data-file-location">Changing the data file location</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#modifying-file-locations-in-the-virtual-file-system">Modifying file locations in the virtual file system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#valid-character-set">Valid Character Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#monitoring-file-usage">Monitoring file usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#preloading-files">Preloading files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/packaging_files.html#test-code">Test code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../files/Synchronous-Virtual-XHR-Backed-File-System-Usage.html">Synchronous Virtual XHR Backed File System Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../files/Synchronous-Virtual-XHR-Backed-File-System-Usage.html#test-code">Test code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../files/Synchronous-Virtual-XHR-Backed-File-System-Usage.html#instructions">Instructions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../multimedia_and_graphics/index.html">Multimedia and Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html">EGL Support in Emscripten</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#what-egl-is-not">What EGL is not?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#how-to-create-a-webgl-context-using-egl">How to create a WebGL context using EGL?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/EGL-Support-in-Emscripten.html#implementation-status-and-notes">Implementation status and notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html">OpenGL support in Emscripten</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#webgl-friendly-subset-of-opengl-es-2-0-3-0">WebGL-friendly subset of OpenGL ES 2.0/3.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#opengl-es-2-0-3-0-emulation">OpenGL ES 2.0/3.0 emulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#emulation-of-older-desktop-opengl-api-features">Emulation of older Desktop OpenGL API features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#opengl-es-extensions">OpenGL ES extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#test-code-examples">Test code/examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multimedia_and_graphics/OpenGL-support.html#bug-reports">Bug Reports</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Audio.html">Audio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Audio.html#supported-openal-extensions">Supported OpenAL extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Audio.html#guidelines-for-audio-on-emscripten">Guidelines for Audio on Emscripten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Audio.html#emscripten-specific-capture-behavior">Emscripten-specific capture behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Audio.html#useful-implementation-details-of-openal-capture">Useful implementation details of OpenAL capture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Audio.html#improving-and-extending-the-implementation">Improving and extending the implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Debugging.html">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#debug-information">Debug information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#debug-mode-emcc-debug">Debug mode (EMCC_DEBUG)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#compiler-settings">Compiler settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#sanitizers">Sanitizers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#emcc-verbose-output">emcc verbose output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#manual-print-debugging">Manual print debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#disabling-optimizations">Disabling optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#emscripten-specific-issues">Emscripten-specific issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Debugging.html#memory-alignment-issues">Memory Alignment Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Debugging.html#function-pointer-issues">Function Pointer Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Debugging.html#infinite-loops">Infinite loops</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#autodebugger">AutoDebugger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Debugging.html#autodebugger-regression-workflow">AutoDebugger Regression Workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#useful-links">Useful Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Debugging.html#need-help">Need help?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pthreads.html">Pthreads support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#compiling-with-pthreads-enabled">Compiling with pthreads enabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#additional-flags">Additional flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#proxying">Proxying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#blocking-on-the-main-browser-thread">Blocking on the main browser thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#special-considerations">Special considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pthreads.html#running-code-and-tests">Running code and tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../simd.html">Porting SIMD code targeting WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simd.html#porting-simd-code-targeting-asm-js">Porting SIMD code targeting asm.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simd.html#limitations-and-behavioral-differences">Limitations and behavioral differences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asyncify.html">Asyncify</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#sleeping-yielding-to-the-event-loop">Sleeping / yielding to the event loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#making-async-web-apis-behave-as-if-they-were-synchronous">Making async Web APIs behave as if they were synchronous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#more-on-asyncify-imports">More on <code class="docutils literal"><span class="pre">ASYNCIFY_IMPORTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#returning-values">Returning values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#optimizing">Optimizing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#potential-problems">Potential problems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../asyncify.html#stack-overflows">Stack overflows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../asyncify.html#reentrancy">Reentrancy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../asyncify.html#migrating-from-older-apis">Migrating from older APIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../emterpreter.html">Emterpreter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../emterpreter.html#general-usage">General Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emterpreter.html#specific-use-cases">Specific Use Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../emterpreter.html#improving-startup-1-swapping">Improving Startup 1: Swapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emterpreter.html#improving-startup-2-set-aside-cold-code">Improving Startup 2: Set Aside Cold Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../emterpreter.html#emterpreter-async-run-synchronous-code">Emterpreter-Async: Run Synchronous Code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../emterpreter.html#semantics">Semantics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emterpreter.html#deciding-on-which-methods-to-emterpret-for-async">Deciding on which methods to Emterpret for async</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emterpreter.html#comparison-to-asyncify">Comparison to ASYNCIFY</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../emterpreter.html#debugging">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emterpreter.html#bytecode-design">Bytecode Design</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../compiling/Building-Projects.html">Building Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#integrating-with-a-build-system">Integrating with a build system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#emscripten-build-output-files">Emscripten build output files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#building-projects-with-optimizations">Building projects with optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#building-projects-with-debug-information">Building projects with debug information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#using-libraries">Using libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#emscripten-ports">Emscripten Ports</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#adding-more-ports">Adding more ports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#build-system-issues">Build system issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#build-system-self-execution">Build system self-execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#dynamic-linking">Dynamic linking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#configure-may-run-checks-that-appear-to-fail">Configure may run checks that appear to fail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../compiling/Building-Projects.html#archive-a-files">Archive (.a) files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#manually-using-emcc">Manually using emcc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#detecting-emscripten-in-preprocessor">Detecting Emscripten in Preprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#examples-test-code">Examples / test code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../compiling/Building-Projects.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/emscripten.h.html">emscripten.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#inline-assembly-javascript">Inline assembly/JavaScript</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#defines">Defines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#calling-javascript-from-c-c">Calling JavaScript From C/C++</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#function-pointer-types-for-callbacks">Function pointer types for callbacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#browser-execution-environment">Browser Execution Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id3">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#asynchronous-file-system-api">Asynchronous File System API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#typedefs">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id4">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#asynchronous-indexeddb-api">Asynchronous IndexedDB API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#compiling">Compiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#worker-api">Worker API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id5">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id6">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#logging-utilities">Logging utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id7">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id8">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#socket-event-registration">Socket event registration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#callback-functions">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id9">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#unaligned-types">Unaligned types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id10">Typedefs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#pseudo-synchronous-functions">Pseudo-synchronous functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#sleeping">Sleeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#network">Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#indexeddb">IndexedDB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#fastcomp-asyncify-functions">Fastcomp Asyncify functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id12">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id13">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#upstream-asyncify-functions">Upstream Asyncify functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id14">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/emscripten.h.html#id15">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/emscripten.h.html#abi-functions">ABI functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/html5.h.html">html5.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#how-to-use-this-api">How to use this API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#registration-functions">Registration functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#callback-functions">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#functions-affected-by-web-security">Functions affected by web security</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#test-example-code">Test/Example code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#general-types">General types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#function-result-values">Function result values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#keys">Keys</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#defines">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#struct">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id3">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#mouse">Mouse</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id4">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id5">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id6">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id7">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#wheel">Wheel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id8">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id11">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id12">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id13">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#ui">UI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id15">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id16">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id17">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id18">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#focus">Focus</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id21">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id22">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id24">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id25">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#device-orientation">Device orientation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id30">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id31">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id32">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id33">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#device-motion">Device motion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id35">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id36">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id38">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id39">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#id42">Orientation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id43">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id44">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id46">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id47">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#fullscreen">Fullscreen</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id49">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id50">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id53">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id54">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#pointerlock">Pointerlock</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id57">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id58">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id61">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id62">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#visibility">Visibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id66">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id67">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id68">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id69">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#touch">Touch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id70">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id71">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id72">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id73">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#gamepad">Gamepad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id74">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id75">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id76">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id77">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#battery">Battery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id78">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id79">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id81">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id82">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#vibration">Vibration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id84">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#page-unload">Page unload</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id86">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id87">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id88">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#webgl-context">WebGL context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id90">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id91">Struct</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id92">Callback functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id93">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#css">CSS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id95">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#id98">Animation and Timing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id99">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#id100">Console</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id101">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/html5.h.html#id102">Throw</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/html5.h.html#id103">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/preamble.js.html">preamble.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#calling-compiled-c-functions-from-javascript">Calling compiled C functions from JavaScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#accessing-memory">Accessing memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#conversion-functions-strings-pointers-and-arrays">Conversion functions — strings, pointers and arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#run-dependencies">Run dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#stack-trace">Stack trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/preamble.js.html#type-accessors-for-the-memory-model">Type accessors for the memory model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/Filesystem-API.html">File System API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#including-file-system-support">Including File System Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#persistent-data">Persistent data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#file-systems">File systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#memfs">MEMFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#nodefs">NODEFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#filesystem-api-idbfs">IDBFS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/Filesystem-API.html#workerfs">WORKERFS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#devices">Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#setting-up-standard-i-o-devices">Setting up standard I/O devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#id2">File system API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#file-types">File types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/Filesystem-API.html#paths">Paths</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/fetch.html">Fetch API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#persisting-data">Persisting data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/fetch.html#persisting-data-bytes-from-memory">Persisting data bytes from memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/fetch.html#deleting-a-file-from-indexeddb">Deleting a file from IndexedDB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#synchronous-fetches">Synchronous Fetches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#waitable-fetches">Waitable Fetches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#tracking-progress">Tracking Progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#managing-large-files">Managing Large Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/fetch.html#downloading-directly-to-indexeddb">Downloading directly to IndexedDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/fetch.html#streaming-downloads">Streaming Downloads</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/fetch.html#byte-range-downloads">Byte Range Downloads</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/fetch.html#todo-to-document">TODO To Document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/module.html">Module object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/module.html#creating-the-module-object">Creating the Module object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/module.html#affecting-execution">Affecting execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/module.html#other-methods">Other methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/val.h.html">val.h (under-construction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/bind.h.html">bind.h (under-construction)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#how-to-use-this-api">How to use this API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/bind.h.html#defines">Defines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#policies">Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#select-overload-and-select-const">select_overload and select_const</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#value-tuples">Value tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#value-structs">Value structs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#smart-pointers">Smart pointers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#vectors">Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#maps">Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#enums">Enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/bind.h.html#constants">Constants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/trace.h.html">trace.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/trace.h.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#compiler-interaction">Compiler Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#initialization-and-teardown">Initialization and Teardown</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#contexts">Contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#frames">Frames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#annotating-allocations">Annotating Allocations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#overall-memory-usage">Overall Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#logging-messages">Logging Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#tasks">Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#reporting-errors">Reporting Errors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/trace.h.html#running-the-server">Running the Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/trace.h.html#design-notes">Design Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#client-server-design">Client / Server Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#data-batching">Data Batching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/trace.h.html#do-not-perturb-the-heap">Do Not Perturb The Heap</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/trace.h.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/vr.h.html">vr.h</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/vr.h.html#test-example-code">Test/Example code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/vr.h.html#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/vr.h.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/vr.h.html#api-queries">API Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/vr.h.html#display-functions">Display Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/vr.h.html#render-loop">Render Loop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/vr.h.html#defines">Defines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/vr.h.html#types">Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/vr.h.html#math">Math</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/advanced-apis.html">Advanced APIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#settings-js">settings.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#preamble-js">preamble.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/advanced-apis.html#advanced-file-system-api">Advanced File System API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools_reference/index.html">Tools Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emsdk.html">Emscripten SDK (emsdk)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#command-line-syntax">Command line syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#arguments">Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#tools-and-sdk-targets">Tools and SDK targets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#sdk-concepts">SDK concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#emscripten-compiler-configuration-file-emscripten">Emscripten Compiler Configuration File (.emscripten)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emsdk.html#how-to-guides">&#8220;How to&#8221; guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-just-get-the-latest-sdk">How do I just get the latest SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-use-emsdk">How do I use emsdk?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-check-which-versions-of-the-sdk-and-tools-are-installed">How do I check which versions of the SDK and tools are installed?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-install-a-tool-sdk-version">How do I install a tool/SDK version?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-remove-a-tool-or-an-sdk">How do I remove a tool or an SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-check-for-updates-to-the-emscripten-sdk">How do I check for updates to the Emscripten SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-change-the-currently-active-sdk-version">How do I change the currently active SDK version?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-install-and-activate-old-emscripten-sdks-and-tools">How do I install and activate old Emscripten SDKs and tools?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-track-the-latest-emscripten-development-with-the-sdk">How do I track the latest Emscripten development with the SDK?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emsdk.html#how-do-i-use-my-own-emscripten-github-fork-with-the-sdk">How do I use my own Emscripten GitHub fork with the SDK?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emcc.html">Emscripten Compiler Frontend (emcc)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcc.html#command-line-syntax">Command line syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tools_reference/emcc.html#arguments">Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcc.html#environment-variables">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools_reference/emcmdprompt.html">Emscripten Windows Command Prompt (emcmdprompt.bat)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools_reference/emcmdprompt.html#command-line-syntax">Command line syntax</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optimizing/Optimizing-Code.html">Optimizing Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#how-to-optimize-code">How to optimize code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#how-emscripten-optimizes">How Emscripten optimizes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#advanced-compiler-settings">Advanced compiler settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#webassembly">WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#code-size">Code size</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#trading-off-code-size-and-performance">Trading off code size and performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#miscellaneous-code-size-tips">Miscellaneous code size tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#lto">LTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#very-large-codebases">Very large codebases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#avoid-memory-spikes-by-separating-out-asm-js">Avoid memory spikes by separating out asm.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#running-by-itself">Running by itself</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#aggressive-variable-elimination">Aggressive variable elimination</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#other-optimization-issues">Other optimization issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#c-exceptions">C++ exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#c-rtti">C++ RTTI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#memory-growth">Memory Growth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#viewing-code-optimization-passes">Viewing code optimization passes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#unsafe-optimizations">Unsafe optimizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#profiling">Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-Code.html#troubleshooting-poor-performance">Troubleshooting poor performance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html">Optimizing WebGL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#which-gl-mode-to-target">Which GL Mode To Target?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#how-to-profile-webgl">How To Profile WebGL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#avoid-redundant-calls">Avoid Redundant Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#techniques-to-minimize-api-calls">Techniques To Minimize API Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#avoid-gpu-cpu-sync-points">Avoid GPU-CPU Sync Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#gpu-driver-friendly-memory-access-behavior">GPU Driver Friendly Memory Access Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#when-the-gpu-is-the-bottleneck">When The GPU Is The Bottleneck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#optimizing-load-times-and-other-best-practices">Optimizing Load Times and Other Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Optimizing-WebGL.html#migrating-to-webgl-2">Migrating To WebGL 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/CyberDWARF.html">CyberDWARF Debugging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/CyberDWARF.html#building">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/CyberDWARF.html#using">Using</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/CyberDWARF.html#heap-pretty-printer">Heap Pretty Printer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/CyberDWARF.html#api">API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/Sanitizers.html">Debugging with Sanitizers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/Sanitizers.html#undefined-behaviour-sanitizer">Undefined Behaviour Sanitizer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/Sanitizers.html#catching-null-dereference">Catching Null Dereference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/Sanitizers.html#minimal-runtime">Minimal Runtime</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/Sanitizers.html#address-sanitizer">Address Sanitizer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/Sanitizers.html#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugging/Sanitizers.html#buffer-overflow">Buffer Overflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugging/Sanitizers.html#use-after-free">Use After Free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugging/Sanitizers.html#memory-leaks">Memory Leaks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugging/Sanitizers.html#use-after-return">Use After Return</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../debugging/Sanitizers.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugging/Sanitizers.html#disabling-malloc-free-stack-traces">Disabling <code class="docutils literal"><span class="pre">malloc</span></code>/<code class="docutils literal"><span class="pre">free</span></code> Stack Traces</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../building_from_source/index.html">Building Emscripten from Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../building_from_source/index.html#building-llvm">Building LLVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building_from_source/index.html#building-binaryen">Building Binaryen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../building_from_source/toolchain_what_is_needed.html">Emscripten Toolchain Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/toolchain_what_is_needed.html#what-you-ll-need">What you&#8217;ll need</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/toolchain_what_is_needed.html#test-which-tools-are-installed">Test which tools are installed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building_from_source/building_fastcomp_manually_from_source.html">Manually building Fastcomp from source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/building_fastcomp_manually_from_source.html#what-you-ll-need">What you&#8217;ll need</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/building_fastcomp_manually_from_source.html#building-fastcomp">Building Fastcomp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building_from_source/configuring_emscripten_settings.html">Configuring Emscripten Settings when Manually Building from Source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/configuring_emscripten_settings.html#creating-the-compiler-configuration-file">Creating the compiler configuration file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/configuring_emscripten_settings.html#locating-the-compiler-configuration-file-emscripten">Locating the compiler configuration file (.emscripten)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/configuring_emscripten_settings.html#compiler-configuration-file-format">Compiler configuration file-format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/configuring_emscripten_settings.html#editing-the-compiler-configuration-file">Editing the compiler configuration file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../building_from_source/verify_emscripten_environment.html">Verifying the Emscripten Development Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/verify_emscripten_environment.html#testing-the-environment">Testing the environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../building_from_source/verify_emscripten_environment.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing to Emscripten</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/contributing.html">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/contributing.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/developers_guide.html">Developer&#8217;s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#setting-up">Setting up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#repositories-and-branches-of-interest">Repositories and branches of interest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#submitting-patches">Submitting patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#code-reviews">Code reviews</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#compiler-overview">Compiler overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#emscripten-test-suite">Emscripten Test Suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/developers_guide.html#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/AUTHORS.html">AUTHORS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html">Profiling the Toolchain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html#quick-example">Quick Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html#details">Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html#profiling-tool-commands">Profiling Tool Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html#instrumenting-python-scripts">Instrumenting Python Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optimizing/Profiling-Toolchain.html#python-profiling-blocks">Python Profiling Blocks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../site/about.html">About this site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#searching-the-site">Searching the site</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#reporting-bugs">Reporting bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#contributing-to-the-site">Contributing to the site</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#building-the-site">Building the site</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#installing-sphinx">Installing Sphinx</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../site/about.html#ubuntu">Ubuntu</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#site-builds">Site builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#sdk-builds">SDK Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#build-version">Build version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#writing-and-updating-articles">Writing and updating articles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#style-guide">Style guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#how-to-link-to-a-document-or-heading">How to link to a document or heading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#recommended-section-heading-markup">Recommended section/heading markup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../site/about.html#working-in-markdown">Working in markdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#read-the-docs-theme">Read the docs theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../site/about.html#site-license">Site license</a></li>
</ul>
</li>
</ul>

			<a class="toctree-l1" title="Index" href="../../../genindex.html">Index</a>
        
      </div>
      &nbsp;
    </nav>
	
    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
         <i data-toggle="wy-nav-top" class="fa fa-bars"></i> 
        <!-- <a href="../../../index.html">Emscripten</a> -->
		<a href="../../../index.html"> <img src="../../..//_static/Emscripten_logo_full.png" alt="Logo" /> </a>
      </nav>

	    
	  
      
      <div class="wy-nav-content">
        <div class="rst-content">
		
		   <!--begin hamishw addition --> 
   
   <!--Nav bar defined as a document followed by short version of nav text and long version
    If no such page exists then nav item is not created. CSS defines which of the long or short version is 
	displayed.   -->
   <a href="https://github.com/emscripten-core/emscripten"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
  
   <div class="main-nav-bar" style="">   
   
   <!-- the layout of the menu options - centered with left and right alignment of the first and last loop items respectively.
   This is VERY UGLY as I'm adding to the CSS in the code to force the alignment. Would be better just to have the elements here and have the CSS in the CSS file. This could be done with a CSS selector, but not worked out how yet. -->
   
	 <ul id="menu-options">
        
              <li style="text-align:left;"><a class="navlink-short" title="Docs" href="../../index.html">Docs</a><a class="navlink-long" title="Documentation" href="../../index.html">Documentation</a></li>
        
              <li><a class="navlink-short" title="SDK" href="../../getting_started/downloads.html">SDK</a><a class="navlink-long" title="Downloads" href="../../getting_started/downloads.html">Downloads</a></li>
        
              <li><a class="navlink-short" title="Help" href="../../introducing_emscripten/community.html">Help</a><a class="navlink-long" title="Community" href="../../introducing_emscripten/community.html">Community</a></li>
        
              <li style="text-align:right;"><a class="navlink-short" title="GitHub" href="../../index.html">GitHub</a><a class="navlink-long" title="" href="../../index.html"></a></li>
           	
     </ul>
	 <!-- <div style="clear:both;"></div> -->
	 <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Porting</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code</div>
  </div>
 
</div>
 
   </div>
  
   
	
   <!--end hamishw addition -->
		
          <!--HamishW move <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Porting</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code</div>
  </div>
 
</div> -->
          <div role="main">
            
  <div class="section" id="interacting-with-code">
<span id="id1"></span><h1>Interacting with code<a class="headerlink" href="#interacting-with-code" title="Permalink to this headline">¶</a></h1>
<p>Emscripten provides numerous methods to connect and interact between
JavaScript and compiled C or C++:</p>
<ul class="simple">
<li>Call compiled <strong>C</strong> functions from normal JavaScript:<ul>
<li><a class="reference internal" href="#interacting-with-code-ccall-cwrap"><span class="std std-ref">Using ccall or cwrap</span></a>.</li>
<li><a class="reference internal" href="#interacting-with-code-direct-function-calls"><span class="std std-ref">Using direct function calls</span></a> (faster but more complicated).</li>
</ul>
</li>
<li>Call compiled <strong>C++</strong> classes from JavaScript using bindings
created with:<ul>
<li><a class="reference internal" href="#interacting-with-code-binding-cpp"><span class="std std-ref">Embind or WebIDL-Binder</span></a></li>
</ul>
</li>
<li>Call JavaScript functions from <strong>C/C++</strong>:<ul>
<li><a class="reference internal" href="#interacting-with-code-call-javascript-from-native"><span class="std std-ref">Using emscripten_run_script()</span></a>.</li>
<li><a class="reference internal" href="#interacting-with-code-call-javascript-from-native"><span class="std std-ref">Using EM_JS()</span></a> (faster).</li>
<li><a class="reference internal" href="#interacting-with-code-call-javascript-from-native"><span class="std std-ref">Using EM_ASM()</span></a> (faster).</li>
<li><a class="reference internal" href="#implement-c-in-javascript"><span class="std std-ref">Using a C API implemented in JavaScript</span></a>.</li>
<li><a class="reference internal" href="#interacting-with-code-call-function-pointers-from-c"><span class="std std-ref">As function pointers from C</span></a>.</li>
<li><a class="reference internal" href="embind.html#embind-val-guide"><span class="std std-ref">Using the Embind val class</span></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="#interacting-with-code-access-memory"><span class="std std-ref">Access compiled code memory from JavaScript</span></a>.</li>
<li><a class="reference internal" href="#interacting-with-code-execution-behaviour"><span class="std std-ref">Affect execution behaviour</span></a>.</li>
<li><a class="reference internal" href="#interacting-with-code-environment-variables"><span class="std std-ref">Access environment variables</span></a>.</li>
</ul>
<p>This article explains each of the methods listed above, and provides links
to more detailed information.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For information on how compiled code interacts with the browser
environment, see <a class="reference internal" href="../emscripten-runtime-environment.html#emscripten-runtime-environment"><span class="std std-ref">Emscripten Runtime Environment</span></a>. For file system
related manners, see the <a class="reference internal" href="../files/file_systems_overview.html#file-system-overview"><span class="std std-ref">File System Overview</span></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before you can call your code, the runtime environment may need
to load a memory initialization file, preload files, or
do other asynchronous operations depending on optimization
and build settings.
See <a class="reference internal" href="../../getting_started/FAQ.html#faq-when-safe-to-call-compiled-functions"><span class="std std-ref">How can I tell when the page is fully loaded and it is safe to call compiled functions?</span></a> in the FAQ.</p>
</div>
<div class="section" id="calling-compiled-c-functions-from-javascript-using-ccall-cwrap">
<span id="interacting-with-code-ccall-cwrap"></span><h2>Calling compiled C functions from JavaScript using ccall/cwrap<a class="headerlink" href="#calling-compiled-c-functions-from-javascript-using-ccall-cwrap" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to call compiled C functions from JavaScript is to use
<a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a>.</p>
<p><a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> calls a compiled C function with specified parameters
and returns the result, while <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a> &#8220;wraps&#8221; a compiled C
function and returns a JavaScript function you can call normally.
<a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a> is therefore more useful if you plan to call a compiled
function a number of times.</p>
<p>Consider the <strong>tests/hello_function.cpp</strong> file shown below. The
<code class="docutils literal"><span class="pre">int_sqrt()</span></code> function to be compiled is wrapped in <code class="docutils literal"><span class="pre">extern</span> <span class="pre">&quot;C&quot;</span></code>
to prevent C++ name mangling.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Copyright</span> <span class="mi">2012</span> <span class="n">The</span> <span class="n">Emscripten</span> <span class="n">Authors</span><span class="o">.</span>  <span class="n">All</span> <span class="n">rights</span> <span class="n">reserved</span><span class="o">.</span>
<span class="o">//</span> <span class="n">Emscripten</span> <span class="ow">is</span> <span class="n">available</span> <span class="n">under</span> <span class="n">two</span> <span class="n">separate</span> <span class="n">licenses</span><span class="p">,</span> <span class="n">the</span> <span class="n">MIT</span> <span class="n">license</span> <span class="ow">and</span> <span class="n">the</span>
<span class="o">//</span> <span class="n">University</span> <span class="n">of</span> <span class="n">Illinois</span><span class="o">/</span><span class="n">NCSA</span> <span class="n">Open</span> <span class="n">Source</span> <span class="n">License</span><span class="o">.</span>  <span class="n">Both</span> <span class="n">these</span> <span class="n">licenses</span> <span class="n">can</span> <span class="n">be</span>
<span class="o">//</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">LICENSE</span> <span class="n">file</span><span class="o">.</span>

<span class="c1">#include &lt;math.h&gt;</span>

<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="p">{</span>

<span class="nb">int</span> <span class="n">int_sqrt</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">}</span>

</pre></div>
</div>
<p>To compile this code run the following command in the Emscripten
home directory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">emcc</span> <span class="n">tests</span><span class="o">/</span><span class="n">hello_function</span><span class="o">.</span><span class="n">cpp</span> <span class="o">-</span><span class="n">o</span> <span class="n">function</span><span class="o">.</span><span class="n">html</span> <span class="o">-</span><span class="n">s</span> <span class="n">EXPORTED_FUNCTIONS</span><span class="o">=</span><span class="s1">&#39;[&quot;_int_sqrt&quot;]&#39;</span> <span class="o">-</span><span class="n">s</span> <span class="n">EXTRA_EXPORTED_RUNTIME_METHODS</span><span class="o">=</span><span class="s1">&#39;[&quot;ccall&quot;, &quot;cwrap&quot;]&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">EXPORTED_FUNCTIONS</span></code> tells the compiler what we want to be accessible from the compiled code (everything else might be removed if it is not used), and <code class="docutils literal"><span class="pre">EXTRA_EXPORTED_RUNTIME_METHODS</span></code> tells the compiler that we want to use the runtime functions <code class="docutils literal"><span class="pre">ccall</span></code> and <code class="docutils literal"><span class="pre">cwrap</span></code> (otherwise, it will remove them if it does not see they are used).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><cite>EXPORTED_FUNCTIONS</cite> affects compilation to JavaScript. If you first compile to an object file,
then compile the object to JavaScript, you need that option on the second command. If you do
it all together as in the example here (source straight to JavaScript) then this just works,
of course.</p>
</div>
<p>After compiling, you can call this function with <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a> using the
following JavaScript:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">int_sqrt</span> <span class="o">=</span> <span class="n">Module</span><span class="o">.</span><span class="n">cwrap</span><span class="p">(</span><span class="s1">&#39;int_sqrt&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">])</span>
<span class="n">int_sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">int_sqrt</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
</pre></div>
</div>
<p>The first parameter is the name of the function to be wrapped, the second is
the return type of the function (or a JavaScript <cite>null</cite> value if there isn&#8217;t one), and the third is an array of parameter
types (which may be omitted if there are no parameters). The types are
&#8220;number&#8221; (for a JavaScript number corresponding to a C integer, float, or general
pointer), &#8220;string&#8221; (for a JavaScript string that corresponds to a C <code class="docutils literal"><span class="pre">char*</span></code> that represents a string) or
&#8220;array&#8221; (for a JavaScript array or typed array that corresponds to a C array; for typed arrays, it must be a Uint8Array or Int8Array).</p>
<p>You can run this yourself by first opening the generated page
<strong>function.html</strong> in a web browser (nothing will happen on page
load because there is no <code class="docutils literal"><span class="pre">main()</span></code>). Open a JavaScript environment
(<strong>Control-Shift-K</strong> on Firefox, <strong>Control-Shift-J</strong> on Chrome),
and enter the above commands as three separate commands, pressing
<strong>Enter</strong> after each one. You should get the results <code class="docutils literal"><span class="pre">3</span></code> and
<code class="docutils literal"><span class="pre">5</span></code> — the expected output for these inputs using C++ integer
mathematics.</p>
<p><a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> is similar, but receives another parameter with the
parameters to pass to the function:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// Call C from JavaScript</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">ccall</span><span class="p">(</span><span class="s1">&#39;int_sqrt&#39;</span><span class="p">,</span> <span class="c1">// name of C function</span>
  <span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="c1">// return type</span>
  <span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">],</span> <span class="c1">// argument types</span>
  <span class="p">[</span><span class="mi">28</span><span class="p">]);</span> <span class="c1">// arguments</span>

<span class="c1">// result is 5</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This example illustrates a few other points, which you should remember
when using <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a>:</p>
<ul class="last simple">
<li>These methods can be used with compiled <strong>C</strong> functions — name-mangled
C++ functions won&#8217;t work.</li>
<li>We highly recommended that you <em>export</em> functions that are to be called
from JavaScript:<ul>
<li>Exporting is done at compile time. For example:
<code class="docutils literal"><span class="pre">-s</span> <span class="pre">EXPORTED_FUNCTIONS='[&quot;_main&quot;,&quot;_other_function&quot;]'</span></code> exports
<code class="docutils literal"><span class="pre">main()</span></code> and <code class="docutils literal"><span class="pre">other_function()</span></code>.</li>
<li>Note that you need <code class="docutils literal"><span class="pre">_</span></code> at the
beginning of the function names in the <code class="docutils literal"><span class="pre">EXPORTED_FUNCTIONS</span></code> list.</li>
<li>Note that <code class="docutils literal"><span class="pre">_main</span></code> is mentioned in that list. If you don&#8217;t have it there,
the compiler will eliminate it as dead code. The list of exported
functions is the <strong>entire</strong> list that will be kept alive (unless other
code was kept alive in another manner).</li>
<li>Emscripten does <a class="reference internal" href="../../getting_started/FAQ.html#faq-dead-code-elimination"><span class="std std-ref">dead code elimination</span></a>
to minimize code size — exporting ensures the functions you need
aren&#8217;t removed.</li>
<li>At higher optimisation levels (<code class="docutils literal"><span class="pre">-O2</span></code> and above), code is minified,
including function names.
Exporting functions allows you to continue to access them using the
original name through the global <code class="docutils literal"><span class="pre">Module</span></code> object.</li>
<li>If you want to export a JS library function (something from a
<code class="docutils literal"><span class="pre">src/library*.js</span></code> file, for example), then in addition to
<code class="docutils literal"><span class="pre">EXPORTED_FUNCTIONS</span></code>, you need to add it to <code class="docutils literal"><span class="pre">DEFAULT_LIBRARY_FUNCS_TO_INCLUDE</span></code>,
as the latter will force the method to actually be included in
the build.</li>
</ul>
</li>
<li>The compiler will remove code it does not see is used, to improve code
size. If you use <code class="docutils literal"><span class="pre">ccall</span></code> in a place it sees, like code in a <code class="docutils literal"><span class="pre">--pre-js</span></code>
or <code class="docutils literal"><span class="pre">--post-js</span></code>, it will just work. If you use it in a place the compiler
didn&#8217;t see, like another script tag on the HTML or in the JS console like
we did in this tutorial, then because of optimizations
and minification you should export ccall from the runtime, using
<code class="docutils literal"><span class="pre">EXTRA_EXPORTED_RUNTIME_METHODS</span></code>, for example using
<code class="docutils literal"><span class="pre">-s</span> <span class="pre">'EXTRA_EXPORTED_RUNTIME_METHODS=[&quot;ccall&quot;,</span> <span class="pre">&quot;cwrap&quot;]'</span></code>,
and call it on <code class="docutils literal"><span class="pre">Module</span></code> (which contains
everything exported, in a safe way that is not influenced by minification
or optimizations).</li>
</ul>
</div>
</div>
<div class="section" id="interacting-with-an-api-written-in-c-c-from-nodejs">
<h2>Interacting with an API written in C/C++ from NodeJS<a class="headerlink" href="#interacting-with-an-api-written-in-c-c-from-nodejs" title="Permalink to this headline">¶</a></h2>
<p>Say you have a C library that exposes some procedures:</p>
<div class="code c highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">api_example</span><span class="o">.</span><span class="n">c</span>
<span class="c1">#include &lt;stdio.h&gt;</span>
<span class="c1">#include &lt;emscripten.h&gt;</span>

<span class="n">EMSCRIPTEN_KEEPALIVE</span>
<span class="n">void</span> <span class="n">sayHi</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Hi!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">EMSCRIPTEN_KEEPALIVE</span>
<span class="nb">int</span> <span class="n">daysInWeek</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Compile the library with emcc:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">emcc</span> <span class="n">api_example</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">api_example</span><span class="o">.</span><span class="n">js</span>
</pre></div>
</div>
<p>Require the library and call its procedures from node:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="n">em_module</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;./api_example.js&#39;</span><span class="p">);</span>

<span class="n">em_module</span><span class="o">.</span><span class="n">_sayHi</span><span class="p">();</span> <span class="o">//</span> <span class="n">direct</span> <span class="n">calling</span> <span class="n">works</span>
<span class="n">em_module</span><span class="o">.</span><span class="n">ccall</span><span class="p">(</span><span class="s2">&quot;sayHi&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">using</span> <span class="n">ccall</span> <span class="n">etc</span><span class="o">.</span> <span class="n">also</span> <span class="n">work</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">em_module</span><span class="o">.</span><span class="n">_daysInWeek</span><span class="p">());</span> <span class="o">//</span> <span class="n">values</span> <span class="n">can</span> <span class="n">be</span> <span class="n">returned</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="call-compiled-c-c-code-directly-from-javascript">
<span id="interacting-with-code-direct-function-calls"></span><h2>Call compiled C/C++ code &#8220;directly&#8221; from JavaScript<a class="headerlink" href="#call-compiled-c-c-code-directly-from-javascript" title="Permalink to this headline">¶</a></h2>
<p>Functions in the original source become JavaScript functions, so you can
call them directly if you do type translations yourself — this will be
faster than using <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a>, but a little
more complicated.</p>
<p>To call the method directly, you will need to use the full name as it
appears in the generated code. This will be the same as the original C
function, but with a leading <code class="docutils literal"><span class="pre">_</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you use <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> or <a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a>, you do not need
to prefix function calls with <code class="docutils literal"><span class="pre">_</span></code> &#8211; just use the C name.</p>
</div>
<p>The types of the parameters you pass to functions need to make sense.
Integers and floating point values can be passed as is. Pointers are
simply integers in the generated code.</p>
<p>Strings in JavaScript must be converted to pointers for compiled
code &#8211; the relevant function is <a class="reference internal" href="../../api_reference/preamble.js.html#UTF8ToString" title="UTF8ToString"><code class="xref js js-func docutils literal"><span class="pre">UTF8ToString()</span></code></a>, which
given a pointer returns a JavaScript string. Converting a JavaScript
string <code class="docutils literal"><span class="pre">someString</span></code> to a pointer can be accomplished using <code class="docutils literal"><span class="pre">ptr</span> <span class="pre">=</span> <span class="pre">``</span>
<span class="pre">allocate(intArrayFromString(someString),</span> <span class="pre">'i8',</span> <span class="pre">ALLOC_NORMAL)</span> <span class="pre">&lt;allocate&gt;</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The conversion to a pointer allocates memory, which needs to be
freed up via a call to <code class="docutils literal"><span class="pre">free(ptr)</span></code> afterwards (<code class="docutils literal"><span class="pre">_free</span></code> in JavaScript side)</p>
</div>
<p>There are other convenience functions for converting strings and encodings
in <a class="reference internal" href="../../api_reference/preamble.js.html#preamble-js"><span class="std std-ref">preamble.js</span></a>.</p>
</div>
<div class="section" id="calling-javascript-from-c-c">
<span id="interacting-with-code-call-javascript-from-native"></span><h2>Calling JavaScript from C/C++<a class="headerlink" href="#calling-javascript-from-c-c" title="Permalink to this headline">¶</a></h2>
<p>Emscripten provides two main approaches for calling JavaScript from C/C++:
running the script using <a class="reference internal" href="../../api_reference/emscripten.h.html#c.emscripten_run_script" title="emscripten_run_script"><code class="xref c c-func docutils literal"><span class="pre">emscripten_run_script()</span></code></a> or writing
&#8220;inline JavaScript&#8221;.</p>
<p>The most direct, but slightly slower, way is to use
<a class="reference internal" href="../../api_reference/emscripten.h.html#c.emscripten_run_script" title="emscripten_run_script"><code class="xref c c-func docutils literal"><span class="pre">emscripten_run_script()</span></code></a>. This effectively runs the specified
JavaScript code from C/C++ using <code class="docutils literal"><span class="pre">eval()</span></code>. For example, to call the
browser&#8217;s <code class="docutils literal"><span class="pre">alert()</span></code> function with the text &#8216;hi&#8217;, you would call the
following JavaScript:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">emscripten_run_script</span><span class="p">(</span><span class="s2">&quot;alert(&#39;hi&#39;)&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function <code class="docutils literal"><span class="pre">alert</span></code> is present in browsers, but not in <em>node</em>
or other JavaScript shells. A more generic alternative is to call
<cite>console.log</cite>.</p>
</div>
<p>A faster way to call JavaScript from C is to write &#8220;inline JavaScript&#8221;,
using <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_JS" title="EM_JS"><code class="xref c c-func docutils literal"><span class="pre">EM_JS()</span></code></a> or <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM" title="EM_ASM"><code class="xref c c-func docutils literal"><span class="pre">EM_ASM()</span></code></a> (and related macros).</p>
<p>EM_JS is used to declare JavaScript functions from inside a C file. The &#8220;alert&#8221;
example might be written using EM_JS like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#include &lt;emscripten.h&gt;</span>

<span class="n">EM_JS</span><span class="p">(</span><span class="n">void</span><span class="p">,</span> <span class="n">call_alert</span><span class="p">,</span> <span class="p">(),</span> <span class="p">{</span>
  <span class="n">alert</span><span class="p">(</span><span class="s1">&#39;hello world!&#39;</span><span class="p">);</span>
  <span class="n">throw</span> <span class="s1">&#39;all done&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">call_alert</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>EM_JS&#8217;s implementation is essentially a shorthand for <a class="reference internal" href="#implement-c-in-javascript"><span class="std std-ref">implementing a
JavaScript library</span></a>.</p>
<p>EM_ASM is used in a similar manner to inline assembly code. The &#8220;alert&#8221; example
might be written with inline JavaScript as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#include &lt;emscripten.h&gt;</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">EM_ASM</span><span class="p">(</span>
    <span class="n">alert</span><span class="p">(</span><span class="s1">&#39;hello world!&#39;</span><span class="p">);</span>
    <span class="n">throw</span> <span class="s1">&#39;all done&#39;</span><span class="p">;</span>
  <span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When compiled and run, Emscripten will execute the two lines of JavaScript
as if they appeared directly in the generated code. The result would be
an alert, followed by an exception. (Note, however, that under the hood
Emscripten still does a function call even in this case, which has some
amount of overhead.)</p>
<p>You can also send values from C into JavaScript inside <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM" title="EM_ASM"><code class="xref c c-macro docutils literal"><span class="pre">EM_ASM</span></code></a>,
for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>EM_ASM({
  console.log(&#39;I received: &#39; + $0);
}, 100);
</pre></div>
</div>
<p>This will show <code class="docutils literal"><span class="pre">I</span> <span class="pre">received:</span> <span class="pre">100</span></code>.</p>
<p>You can also receive values back, for example the following will print out <code class="docutils literal"><span class="pre">I</span> <span class="pre">received:</span> <span class="pre">100</span></code>
and then <code class="docutils literal"><span class="pre">101</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>int x = EM_ASM_INT({
  console.log(&#39;I received: &#39; + $0);
  return $0 + 1;
}, 100);
printf(&quot;%d\n&quot;, x);
</pre></div>
</div>
<p>See the <code class="xref c c-macro docutils literal"><span class="pre">emscripten.h</span> <span class="pre">docs</span></code> for more details.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>You need to specify if the return value is an <code class="docutils literal"><span class="pre">int</span></code> or a <code class="docutils literal"><span class="pre">double</span></code>
using the appropriate macro <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM_INT" title="EM_ASM_INT"><code class="xref c c-macro docutils literal"><span class="pre">EM_ASM_INT</span></code></a> or
<a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM_DOUBLE" title="EM_ASM_DOUBLE"><code class="xref c c-macro docutils literal"><span class="pre">EM_ASM_DOUBLE</span></code></a>.</li>
<li>The input values appear as <code class="docutils literal"><span class="pre">$0</span></code>, <code class="docutils literal"><span class="pre">$1</span></code>, etc.</li>
<li><code class="docutils literal"><span class="pre">return</span></code> is used to provide the value sent from JavaScript back to C.</li>
<li>See how <code class="docutils literal"><span class="pre">{</span></code> and <code class="docutils literal"><span class="pre">}</span></code> are used here to enclose the code. This is
necessary to differentiate the code from the arguments passed later,
which are the input values (this is how C macros work).</li>
<li>When using the <a class="reference internal" href="../../api_reference/emscripten.h.html#c.EM_ASM" title="EM_ASM"><code class="xref c c-macro docutils literal"><span class="pre">EM_ASM</span></code></a> macro, ensure that you only use
single quotes(&#8216;). Double quotes(&#8221;) will cause a syntax error that
is not detected by the compiler and is only shown when looking at
a JavaScript console while running the offending code.</li>
</ul>
</div>
</div>
<div class="section" id="implement-a-c-api-in-javascript">
<span id="implement-c-in-javascript"></span><h2>Implement a C API in JavaScript<a class="headerlink" href="#implement-a-c-api-in-javascript" title="Permalink to this headline">¶</a></h2>
<p>It is possible to implement a C API in JavaScript! This is the approach
used in many of Emscripten&#8217;s libraries, like SDL1 and OpenGL.</p>
<p>You can use it to write your own APIs to call from C/C++. To do this
you define the interface, decorating with <code class="docutils literal"><span class="pre">extern</span></code> to mark the methods
in the API as external symbols. You then implement the symbols in
JavaScript by simply adding their definition to <a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/master/src/library.js">library.js</a> (by
default). When compiling the C code, the compiler looks in the JavaScript
libraries for relevant external symbols.</p>
<p>By default, the implementation is added to <strong>library.js</strong> (and this is
where you&#8217;ll find parts of Emscripten&#8217;s <em>libc</em>). You can put
the JavaScript implementation in your own library file and add it using
the <a class="reference internal" href="../../tools_reference/emcc.html#emcc-js-library"><span class="std std-ref">emcc option</span></a> <code class="docutils literal"><span class="pre">--js-library</span></code>. See
<a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/1.29.12/tests/test_core.py#L5043">test_js_libraries</a> in <strong>tests/test_other.py</strong> for a complete working
example, including the syntax you should use inside the JavaScript library
file.</p>
<p>As a simple example, consider the case where you have some C code like this:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="kt">void</span> <span class="nf">my_js</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">my_js</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When using C++ you should encapsulate <code class="docutils literal"><span class="pre">extern</span> <span class="pre">void</span> <span class="pre">my_js();</span></code>
in an <code class="docutils literal"><span class="pre">extern</span> <span class="pre">&quot;C&quot;</span> <span class="pre">{}</span></code> block to prevent C++ name mangling:</p>
<div class="last highlight-cpp"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span>
  <span class="k">extern</span> <span class="kt">void</span> <span class="n">my_js</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Then you can implement <code class="docutils literal"><span class="pre">my_js</span></code> in JavaScript by simply adding the
implementation to <strong>library.js</strong> (or your own file). Like our other
examples of calling JavaScript from C, the example below just creates
a dialog box using a simple <code class="docutils literal"><span class="pre">alert()</span></code> function.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">my_js</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">);</span>
<span class="p">},</span>
</pre></div>
</div>
<p>If you add it to your own file, you should write something like</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">mergeInto</span><span class="p">(</span><span class="nx">LibraryManager</span><span class="p">.</span><span class="nx">library</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">my_js</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">mergeInto</span></code> just copies the properties on the second parameter onto the
first, so this add <code class="docutils literal"><span class="pre">my_js</span></code> onto <code class="docutils literal"><span class="pre">LibraryManager.library</span></code>, the global
object where all JavaScript library code should be.</p>
<div class="section" id="javascript-limits-in-library-files">
<h3>JavaScript limits in library files<a class="headerlink" href="#javascript-limits-in-library-files" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re not familiar with JavaScript, say if you&#8217;re a C/C++ programmer
and just using emscripten, then the following issues probably won&#8217;t come up, but
if you&#8217;re an experienced JavaScript programmer you need to be aware
some common JavaScript practices can not be used in certain ways in emscripten
library files.</p>
<p>To save space, by default, emscripten only includes library properties
referenced from C/C++. It does this by calling <code class="docutils literal"><span class="pre">toString</span></code> on each
used property on the JavaScript libraries that are linked in. That means
that you can&#8217;t use a closure directly, for example, as <code class="docutils literal"><span class="pre">toString</span></code>
isn&#8217;t compatible with that - just like when using a string to create
a Web Worker, where you also can&#8217;t pass a closure. (Note that this
limitation is just for the values for the keys of the object
passes to <code class="docutils literal"><span class="pre">mergeInto</span></code> in the JS library, that is, the toplevel
key-value pairs are special. Interior code inside a function can
have arbitrary JS, of course).</p>
<p>To avoid this limitation of JS libraries, you can put code in another file using
the <code class="docutils literal"><span class="pre">--pre-js</span></code> or <code class="docutils literal"><span class="pre">--post-js</span></code> options, which allow arbitrary normal
JS, and it is included and optimized with the rest of the output. That is
the recommended approach for most cases. Another option is another <code class="docutils literal"><span class="pre">&lt;script&gt;</span></code> tag.</p>
<p>Alternatively, if you prefer to use a JS library file, you can
have a function replace itself and have it called during
initialization.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">mergeInto</span><span class="p">(</span><span class="nx">LibraryManager</span><span class="p">.</span><span class="nx">library</span><span class="p">,</span> <span class="p">{</span>

  <span class="c1">// Solution for bind or referencing other functions directly</span>
  <span class="nx">good_02__postset</span><span class="o">:</span> <span class="s1">&#39;_good_02();&#39;</span><span class="p">,</span>
  <span class="nx">good_02</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">_good_02</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="c1">// Solution for closures</span>
  <span class="nx">good_03__postset</span><span class="o">:</span> <span class="s1">&#39;_good_03();&#39;</span><span class="p">,</span>
  <span class="nx">good_03</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">callCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">_good_03</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;times called: &quot;</span><span class="p">,</span> <span class="o">++</span><span class="nx">callCount</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">},</span>

  <span class="c1">// Solution for curry/transform</span>
  <span class="nx">good_05__postset</span><span class="o">:</span> <span class="s1">&#39;_good_05();&#39;</span><span class="p">,</span>
  <span class="nx">good_05</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">_good_05</span> <span class="o">=</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">scrollTo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
 <span class="p">},</span>

<span class="p">});</span>
</pre></div>
</div>
<p>A <cite>__postset</cite> is a string the compiler will emit directly to the
output file. For the example above this code will be emitted.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span> <span class="kd">function</span> <span class="nx">_good_02</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">_good_o2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>
 <span class="p">}</span>

 <span class="kd">function</span> <span class="nx">_good_03</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">callCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="nx">_good_03</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;times called: &quot;</span><span class="p">,</span> <span class="o">++</span><span class="nx">callCount</span><span class="p">);</span>
   <span class="p">};</span>
 <span class="p">}</span>

 <span class="kd">function</span> <span class="nx">_good_05</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">_good_05</span> <span class="o">=</span> <span class="nx">curry</span><span class="p">(</span><span class="nx">scrollTo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Call each function once so it will replace itself</span>
<span class="nx">_good_02</span><span class="p">();</span>
<span class="nx">_good_03</span><span class="p">();</span>
<span class="nx">_good_05</span><span class="p">();</span>
</pre></div>
</div>
<p>You can also put most of your code in the <code class="docutils literal"><span class="pre">xxx__postset</span></code> strings.
The example below each method declares a dependency on <code class="docutils literal"><span class="pre">$method_support</span></code>
and are otherwise dummy functions. <code class="docutils literal"><span class="pre">$method_support</span></code> itself has a
corresponding <code class="docutils literal"><span class="pre">__postset</span></code> property with all the code to set the
various methods to the functions we actually want.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">mergeInto</span><span class="p">(</span><span class="nx">LibraryManager</span><span class="p">.</span><span class="nx">library</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">$method_support</span><span class="o">:</span> <span class="p">{},</span>
  <span class="nx">$method_support__postset</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">&#39;(function() {                                  &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  var SomeLib = function() {                   &#39;</span><span class="p">,</span>
    <span class="s1">&#39;    this.callCount = 0;                        &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  };                                           &#39;</span><span class="p">,</span>
    <span class="s1">&#39;                                               &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  SomeLib.prototype.getCallCount = function() {&#39;</span><span class="p">,</span>
    <span class="s1">&#39;    return this.callCount;                     &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  };                                           &#39;</span><span class="p">,</span>
    <span class="s1">&#39;                                               &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  SomeLib.prototype.process = function() {     &#39;</span><span class="p">,</span>
    <span class="s1">&#39;    ++this.callCount;                          &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  };                                           &#39;</span><span class="p">,</span>
    <span class="s1">&#39;                                               &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  SomeLib.prototype.reset = function() {       &#39;</span><span class="p">,</span>
    <span class="s1">&#39;    this.callCount = 0;                        &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  };                                           &#39;</span><span class="p">,</span>
    <span class="s1">&#39;                                               &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  var inst = new SomeLib();                    &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  _method_01 = inst.getCallCount.bind(inst);   &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  _method_02 = inst.process.bind(inst);        &#39;</span><span class="p">,</span>
    <span class="s1">&#39;  _method_03 = inst.reset.bind(inst);          &#39;</span><span class="p">,</span>
    <span class="s1">&#39;}());                                          &#39;</span><span class="p">,</span>
  <span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">),</span>
  <span class="nx">method_01</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
  <span class="nx">method_02</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
  <span class="nx">method_03</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
 <span class="p">});</span>
</pre></div>
</div>
<p>Note: If you are using node 4.1 or newer you can use multi-line strings.
They are only used at compile time not runtime so output will still run in
ES5 based environments.</p>
<p>Another option is to put most of your code in an object, not
a function,</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">mergeInto</span><span class="p">(</span><span class="nx">LibraryManager</span><span class="p">.</span><span class="nx">library</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">$method_support__postset</span><span class="o">:</span> <span class="s1">&#39;method_support();&#39;</span><span class="p">,</span>
  <span class="nx">$method_support</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">SomeLib</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">callCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">};</span>

      <span class="nx">SomeLib</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getCallCount</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">callCount</span><span class="p">;</span>
      <span class="p">};</span>

      <span class="nx">SomeLib</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">process</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="nx">callCount</span><span class="p">;</span>
      <span class="p">};</span>

      <span class="nx">SomeLib</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">callCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">};</span>

      <span class="kd">var</span> <span class="nx">inst</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SomeLib</span><span class="p">();</span>
      <span class="nx">_method_01</span> <span class="o">=</span> <span class="nx">inst</span><span class="p">.</span><span class="nx">getCallCount</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">inst</span><span class="p">);</span>
      <span class="nx">_method_02</span> <span class="o">=</span> <span class="nx">inst</span><span class="p">.</span><span class="nx">process</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">inst</span><span class="p">);</span>
      <span class="nx">_method_03</span> <span class="o">=</span> <span class="nx">inst</span><span class="p">.</span><span class="nx">reset</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">inst</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">method_01</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
  <span class="nx">method_02</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
  <span class="nx">method_03</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
  <span class="nx">method_01__deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;$method_support&#39;</span><span class="p">],</span>
 <span class="p">});</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://github.com/emscripten-core/emscripten/tree/master/src">library_*.js</a> files for other examples.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>JavaScript libraries can declare dependencies (<code class="docutils literal"><span class="pre">__deps</span></code>), however
those are only for other JavaScript libraries. See examples in
<a class="reference external" href="https://github.com/emscripten-core/emscripten/tree/master/src">/src</a>
with the name format <strong>library_*.js</strong></li>
<li>You can add dependencies for all your methods using
<code class="docutils literal"><span class="pre">autoAddDeps(myLibrary,</span> <span class="pre">name)</span></code> where myLibrary is the object with
all your methods, and <code class="docutils literal"><span class="pre">name</span></code> is the thing they all depend upon.
This is useful when all the implemented methods use a JavaScript
singleton containing helper methods. See <code class="docutils literal"><span class="pre">library_webgl.js</span></code> for
an example.</li>
<li>If a JavaScript library depends on a compiled C library (like most
of <em>libc</em>), you must edit <a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/master/src/deps_info.json">src/deps_info.json</a>. Search for
&#8220;deps_info&#8221; in <a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/master/tools/system_libs.py">tools/system_libs.py</a>.</li>
<li>The keys passed into <cite>mergeInto</cite> generate functions that are prefixed
by <code class="docutils literal"><span class="pre">_</span></code>. In other words <code class="docutils literal"><span class="pre">my_func:</span> <span class="pre">function()</span> <span class="pre">{},</span></code> becomes
<code class="docutils literal"><span class="pre">function</span> <span class="pre">_my_func()</span> <span class="pre">{}</span></code>, as all C methods in emscripten have a <code class="docutils literal"><span class="pre">_</span></code> prefix. Keys starting with <code class="docutils literal"><span class="pre">$</span></code> have the <code class="docutils literal"><span class="pre">$</span></code>
stripped and no underscore added.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="calling-javascript-functions-as-function-pointers-from-c">
<span id="interacting-with-code-call-function-pointers-from-c"></span><h2>Calling JavaScript functions as function pointers from C<a class="headerlink" href="#calling-javascript-functions-as-function-pointers-from-c" title="Permalink to this headline">¶</a></h2>
<p>You can use <code class="docutils literal"><span class="pre">addFunction</span></code> to return an integer value that represents a
function pointer. Passing that integer to C code then lets it call that value as
a function pointer, and the JavaScript function you sent to <code class="docutils literal"><span class="pre">addFunction</span></code> will
be called.</p>
<p>See <a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/1.29.12/tests/test_core.py#L6237">test_add_function in tests/test_core.py</a> for an example.</p>
<p>When using <code class="docutils literal"><span class="pre">addFunction</span></code>, there is a backing array where these functions are
stored. This array must be explicitly sized, which can be done via a
compile-time setting, <code class="docutils literal"><span class="pre">RESERVED_FUNCTION_POINTERS</span></code>. For example, to reserve
space for 20 functions to be added:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">emcc</span> <span class="o">...</span> <span class="o">-</span><span class="n">s</span> <span class="n">RESERVED_FUNCTION_POINTERS</span><span class="o">=</span><span class="mi">20</span> <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When using <code class="docutils literal"><span class="pre">addFunction</span></code> on LLVM wasm backend, you need to provide
an additional second argument, a Wasm function signature string. Each
character within a signature string represents a type. The first character
represents the return type of a function, and remaining characters are for
parameter types.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">'v'</span></code>: void type</li>
<li><code class="docutils literal"><span class="pre">'i'</span></code>: 32-bit integer type</li>
<li><code class="docutils literal"><span class="pre">'j'</span></code>: 64-bit integer type (currently does not exist in JavaScript)</li>
<li><code class="docutils literal"><span class="pre">'f'</span></code>: 32-bit float type</li>
<li><code class="docutils literal"><span class="pre">'d'</span></code>: 64-bit float type</li>
</ul>
<p class="last">For example, if you add a function that takes an integer and does not return
anything, you can do <code class="docutils literal"><span class="pre">addFunction(your_function,</span> <span class="pre">'vi');</span></code>. See
<a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/incoming/tests/interop/test_add_function_post.js">tests/interop/test_add_function_post.js</a> for an example.</p>
</div>
</div>
<div class="section" id="access-memory-from-javascript">
<span id="interacting-with-code-access-memory"></span><h2>Access memory from JavaScript<a class="headerlink" href="#access-memory-from-javascript" title="Permalink to this headline">¶</a></h2>
<p>You can access memory using <a class="reference internal" href="../../api_reference/preamble.js.html#getValue" title="getValue"><code class="xref js js-func docutils literal"><span class="pre">getValue(ptr,</span> <span class="pre">type)</span></code></a> and
<a class="reference internal" href="../../api_reference/preamble.js.html#setValue" title="setValue"><code class="xref js js-func docutils literal"><span class="pre">setValue(ptr,</span> <span class="pre">value,</span> <span class="pre">type)</span></code></a>. The first argument is a
pointer (a number representing a memory address). <code class="docutils literal"><span class="pre">type</span></code> must be an
LLVM IR type, one of <code class="docutils literal"><span class="pre">i8</span></code>, <code class="docutils literal"><span class="pre">i16</span></code>, <code class="docutils literal"><span class="pre">i32</span></code>, <code class="docutils literal"><span class="pre">i64</span></code>, <code class="docutils literal"><span class="pre">float</span></code>,
<code class="docutils literal"><span class="pre">double</span></code> or a pointer type like <code class="docutils literal"><span class="pre">i8*</span></code> (or just <code class="docutils literal"><span class="pre">*</span></code>).</p>
<p>There are examples of these functions being used in the tests — see
<a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/master/tests/core/test_utf.in">tests/core/test_utf.in</a> and <a class="reference external" href="https://github.com/emscripten-core/emscripten/blob/1.29.12/tests/test_core.py#L4597">tests/test_core.py</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a lower-level operation than <a class="reference internal" href="../../api_reference/preamble.js.html#ccall" title="ccall"><code class="xref js js-func docutils literal"><span class="pre">ccall()</span></code></a> and
<a class="reference internal" href="../../api_reference/preamble.js.html#cwrap" title="cwrap"><code class="xref js js-func docutils literal"><span class="pre">cwrap()</span></code></a> — we <em>do</em> need to care what specific type (e.g.
integer) is being used.</p>
</div>
<p>You can also access memory &#8216;directly&#8217; by manipulating the arrays that
represent memory. This is not recommended unless you are sure you know
what you are doing, and need the additional speed over <a class="reference internal" href="../../api_reference/preamble.js.html#getValue" title="getValue"><code class="xref js js-func docutils literal"><span class="pre">getValue()</span></code></a>
and <a class="reference internal" href="../../api_reference/preamble.js.html#setValue" title="setValue"><code class="xref js js-func docutils literal"><span class="pre">setValue()</span></code></a>.</p>
<p>A case where this might be required is if you want to import a large amount
of data from JavaScript to be processed by compiled code. For example, the
following code allocates a buffer, copies in some data, calls a C function
to process the data, and finally frees the buffer.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">buf</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">_malloc</span><span class="p">(</span><span class="nx">myTypedArray</span><span class="p">.</span><span class="nx">length</span><span class="o">*</span><span class="nx">myTypedArray</span><span class="p">.</span><span class="nx">BYTES_PER_ELEMENT</span><span class="p">);</span>
<span class="nx">Module</span><span class="p">.</span><span class="nx">HEAPU8</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">myTypedArray</span><span class="p">,</span> <span class="nx">buf</span><span class="p">);</span>
<span class="nx">Module</span><span class="p">.</span><span class="nx">ccall</span><span class="p">(</span><span class="s1">&#39;my_function&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">],</span> <span class="p">[</span><span class="nx">buf</span><span class="p">]);</span>
<span class="nx">Module</span><span class="p">.</span><span class="nx">_free</span><span class="p">(</span><span class="nx">buf</span><span class="p">);</span>
</pre></div>
</div>
<p>Here <code class="docutils literal"><span class="pre">my_function</span></code> is a C function that receives a single integer parameter
(or a pointer, they are both just 32-bit integers for us) and returns an
integer. This could be something like <code class="docutils literal"><span class="pre">int</span> <span class="pre">my_function(char</span> <span class="pre">*buf)</span></code>.</p>
<p>The converse case of exporting allocated memory into JavaScript can be
tricky when wasm-based memory is allowed to grow (by compiling with
<code class="docutils literal"><span class="pre">-s</span> <span class="pre">ALLOW_MEMORY_GROWTH=1</span></code>). Increasing the size of memory changes
to a new buffer and existing array views essentially become invalid,
so you cannot simply do this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">func</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">callSomething</span><span class="p">(</span><span class="nx">len</span><span class="p">);</span>               <span class="c1">// if memory grows ...</span>
  <span class="k">return</span> <span class="nx">HEAPU8</span><span class="p">.</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">buffer</span><span class="p">,</span> <span class="nx">buffer</span><span class="o">+</span><span class="nx">len</span><span class="p">);</span> <span class="c1">// ... this will fail</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here, if <cite>callSomething</cite> calls <cite>malloc</cite> and returns the allocated
pointer, and if that <cite>malloc</cite> grew memory, you will not be able to
read the returned data unless you renew the view:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">func</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">=</span> <span class="nx">callSomething</span><span class="p">(</span><span class="nx">len</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="nx">HEAPU8</span><span class="p">.</span><span class="nx">subarray</span><span class="p">(</span><span class="nx">ptr</span><span class="p">,</span> <span class="nx">ptr</span><span class="o">+</span><span class="nx">len</span><span class="p">));</span> <span class="c1">// create a new view</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that a second instance of memory growth will possibly invalidate
the current view, requiring another update of the view (you can, of
course, avoid this problem by copying the data.)</p>
</div>
<div class="section" id="affect-execution-behaviour">
<span id="interacting-with-code-execution-behaviour"></span><h2>Affect execution behaviour<a class="headerlink" href="#affect-execution-behaviour" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">Module</span></code> is a global JavaScript object, with attributes that
Emscripten-generated code calls at various points in its execution.</p>
<p>Developers provide an implementation of <code class="docutils literal"><span class="pre">Module</span></code> to control how
notifications from Emscripten are displayed, which files that are
loaded before the main loop is run, and a number of other behaviours.
For more information see <a class="reference internal" href="../../api_reference/module.html#module"><span class="std std-ref">Module object</span></a>.</p>
</div>
<div class="section" id="environment-variables">
<span id="interacting-with-code-environment-variables"></span><h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Sometimes compiled code needs to access environment variables (for instance,
in C, by calling the <code class="docutils literal"><span class="pre">getenv()</span></code> function). Emscripten-generated JavaScript
cannot access the computer&#8217;s environment variables directly, so a
&#8220;virtualised&#8221; environment is provided.</p>
<p>The JavaScript object <code class="docutils literal"><span class="pre">ENV</span></code> contains the virtualised environment variables,
and by modifying it you can pass variables to your compiled code. Care must
be taken to ensure that the <code class="docutils literal"><span class="pre">ENV</span></code> variable has been initialised by
Emscripten before it is modified — using <a class="reference internal" href="../../api_reference/module.html#Module.preRun" title="Module.preRun"><code class="xref js js-attr docutils literal"><span class="pre">Module.preRun</span></code></a> is a
convenient way to do this.</p>
<p>For example, to set an environment variable <code class="docutils literal"><span class="pre">MY_FILE_ROOT</span></code> to be
<code class="docutils literal"><span class="pre">&quot;/usr/lib/test/&quot;</span></code> you could add the following JavaScript to your
<code class="docutils literal"><span class="pre">Module</span></code> <a class="reference internal" href="../../api_reference/module.html#module-creating"><span class="std std-ref">setup code</span></a>:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="o">.</span><span class="n">preRun</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">function</span><span class="p">()</span> <span class="p">{</span><span class="n">ENV</span><span class="o">.</span><span class="n">MY_FILE_ROOT</span> <span class="o">=</span> <span class="s2">&quot;/usr/lib/test&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="binding-c-and-javascript-webidl-binder-and-embind">
<span id="interacting-with-code-binding-cpp"></span><h2>Binding C++ and JavaScript — WebIDL Binder and Embind<a class="headerlink" href="#binding-c-and-javascript-webidl-binder-and-embind" title="Permalink to this headline">¶</a></h2>
<p>The JavaScript methods for calling compiled C functions are efficient, but
cannot be used with name-mangled C++ functions.</p>
<p><a class="reference internal" href="WebIDL-Binder.html#webidl-binder"><span class="std std-ref">WebIDL Binder</span></a> and <a class="reference internal" href="embind.html#embind"><span class="std std-ref">Embind</span></a> create bindings between C++ and
JavaScript, allowing C++ code entities to be used in a natural manner from
JavaScript. <em>Embind</em> additionally supports calling JavaScript code from C++.</p>
<p><em>Embind</em> can bind almost any C++ code, including sophisticated C++ constructs
(e.g. <code class="docutils literal"><span class="pre">shared_ptr</span></code> and <code class="docutils literal"><span class="pre">unique_ptr</span></code>). The <em>WebIDL Binder</em> supports C++
types that can be expressed in WebIDL. While this subset is smaller than
supported by <em>Embind</em>, it is more than sufficient for most use cases —
examples of projects that have been ported using the binder include the
<a class="reference external" href="https://github.com/kripken/box2d.js/#box2djs">Box2D</a> and <a class="reference external" href="https://github.com/kripken/ammo.js/#ammojs">Bullet</a> physics engines.</p>
<p>Both tools allow mapped items to be used from JavaScript in a similar way.
However they operate at different levels, and use very different approaches
for defining the binding:</p>
<ul class="simple">
<li><em>Embind</em> declares bindings within the C/C++ file.</li>
<li><em>WebIDL-Binder</em> declares the binding in a separate file. This is run
through the binder tool to create &#8220;glue&#8221; code that is then compiled
with the project.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no strong evidence that one tool is &#8220;better&#8221; than the
other in terms of performance (no comparative benchmarks exist), and
both have been used successfully in a number of projects. The selection
of one tool over the other will usually be based on which is the most
natural fit for the project and its build system.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="embind.html" class="btn btn-neutral float-right" title="Embind"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Connecting C++ and JavaScript"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

     
  <!--begin hamishw addition -->
  
    
  
  <!--  -->
   
   <!--Footer important links
    If no such page exists then nav item is not created. CSS defines which of the long or short version is 
	displayed.   -->

	
   <div class="footer-nav-bar" style="">
     <div class="footer-options">
   
        
              <a class="footer-navlink-short" title="Report Bug" href="../../getting_started/bug_reports.html">Report Bug</a><a class="footer-navlink-long" title="Report Bug" href="../../getting_started/bug_reports.html">Report Bug</a>
        
              <a class="footer-navlink-short" title="Licensing" href="../../introducing_emscripten/emscripten_license.html">Licensing</a><a class="footer-navlink-long" title="Licensing" href="../../introducing_emscripten/emscripten_license.html">Licensing</a>
        
              <a class="footer-navlink-short" title="Contributing" href="../../contributing/contributing.html">Contributing</a><a class="footer-navlink-long" title="Contributing" href="../../contributing/contributing.html">Contributing</a>
         
		      <a class="footer-navlink-short external" href="https://groups.google.com/forum/#!forum/emscripten-discuss">Mailing list</a><a class="footer-navlink-long external" href="https://groups.google.com/forum/#!forum/emscripten-discuss">Mailing list</a>
         
		      <a class="footer-navlink-short external" href="https://github.com/emscripten-core/emscripten/wiki">Wiki</a><a class="footer-navlink-long external" href="https://github.com/emscripten-core/emscripten/wiki">Wiki</a>
        
              <a class="footer-navlink-short" title="Release notes" href="../../introducing_emscripten/release_notes.html">Release notes</a><a class="footer-navlink-long" title="Release notes" href="../../introducing_emscripten/release_notes.html">Release notes</a>
        
              <a class="footer-navlink-short" title="Blogs" href="../../introducing_emscripten/community.html">Blogs</a><a class="footer-navlink-long" title="Blogs" href="../../introducing_emscripten/community.html">Blogs</a>
        
              <a class="footer-navlink-short" title="Help" href="../../introducing_emscripten/community.html">Help</a><a class="footer-navlink-long" title="Contact" href="../../introducing_emscripten/community.html">Contact</a>
         
				
     </div>
	 
	
 
   </div>
  
    <!-- <div role="navigation" aria-label="breadcrumbs navigation">

  <div class="breadcrumb-box">
     <a class="breadcrumb-box-item" href="../../../index.html">Home</a> 
      
          <a class="breadcrumb-box-item" href="../index.html">&raquo;&nbsp;Porting</a>
      
          <a class="breadcrumb-box-item" href="index.html">&raquo;&nbsp;Connecting C++ and JavaScript</a>
      
    <div class="breadcrumb-box-item">&raquo;&nbsp;Interacting with code</div>
  </div>
 
</div> -->
  
    <!-- <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a> --.
   <!--end hamishw addition -->
  
  
	  
<!-- end section moved here by hamishw -->
  <div role="contentinfo" class="copyright-box">
    <!-- section moved here by hamishw - needs tidying, which is why it is still in breadcrumbs mode --> 
  <ul class="wy-breadcrumbs">
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../../_sources/docs/porting/connecting_cpp_and_javascript/Interacting-with-code.txt" rel="nofollow"> View page source</a>
        
      </li>

	  <li class="wy-breadcrumbs-aside">
         <a href="../../site/about.html">About site</a>
      </li>
	  
	  <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/emscripten-core/emscripten/issues/new?title=Bug%20in%20page:Interacting%20with%20code%20&body=REPLACE%20THIS%20TEXT%20WITH%20BUG%20DESCRIPTION%20%0A%0AURL:%20../../../docs/porting/connecting_cpp_and_javascript/Interacting-with-code&labels=bug">Page bug</a>
      </li>
  </ul>
  
    <p>
        <!-- &copy; Copyright 2015, . -->
		&copy; Copyright 2015,  <a href="../../contributing/AUTHORS.html">Emscripten Contributors</a>.
		<!-- update theme to remove the translation stuff here - it was breaking due to link to AUTHORS file. This is a cludge to allow specific link to my authors file -->
    </p>
	
  </div>
  
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.39.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
</div>
</body>
</html>